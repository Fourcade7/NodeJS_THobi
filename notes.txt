import express from "express"

const app = express();
const PORT = 3000;



// GET request
app.get("/", async (req, res) => {
  try {
    const response = await fetch("https://jsonplaceholder.typicode.com/posts/1");
    const data = await response.json();

    res.json({
      message: "âœ… GET request ishladi!",
      data,
    });
  } catch (error) {
    console.error("âŒ Xatolik:", error);
    res.status(500).send("Xatolik yuz berdi");
  }
});

// Oddiy GET request
app.get("/", (req, res) => {
  res.send("Salom, bu oddiy GET request!");
});

// Yana bitta misol
app.get("/about", (req, res) => {
  res.json({ message: "Bu /about sahifasi", author: "Muxlisa" });
});


app.listen(PORT, () => {
  console.log(`ðŸš€ Server http://localhost:${PORT} da ishlayapti`);
});